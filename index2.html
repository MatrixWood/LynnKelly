<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  <title>欣宝生日快乐</title>
  <script src="http://g.alicdn.com/kissy/k/1.4.8/seed-min.js"></script>
  <script src="./seed.js"></script>
  <link rel="stylesheet" href="css/style.css">

</head>

<body>
<canvas id="bubble" width="100%" height="100%"></canvas>
<div class="wrapper">
<div id="tips">恳求看官使用chrome/safari等现代浏览器</div>
<div id="play"><a class="start">PLAY</a></div>
<div id="histroy" class="history-box"></div>
<pre id="show" style="color:green;position:relative;"></pre>
<pre id="flower7" style="display:none;">
                                                ....... ................................................................................... .
                                                                  <span style="color:#ddd;">我欣宝今天要超级开心 --- can . .</span>
                           :vr   .rur,         . ........
                          .q@0.   LFL,          . . . . .
                          r@B@7::LkGkjr;;77vr:.. . . . ..
                         rMB@B@B@B@B@B@B@B@B@Y:   . . . .
                       .7MB2. .,.iuXur:.,::i:,.. ..... . 
                       :uFv       :7:           . . . ...
                       .:::,.,...iUPur:,,:i:,. . . . . ..
                         .v500ESXEBBMZEPNZMEu:.   ... . .
                         .:rr7riiYP8Pu7r7LYLi, . . . . . 
                                 .vUv,           .. . . .
                                  :v:            . . . ..
                       iYvv777v77UMBO5Y7vLJLjYr,. . . . .
                      .EB@B@B@B@B@B@B@B@B@B@B@Gr.    . . 
                                         ......   . .   .
                                                 . . . . 
               .vXMMBBBMBMBMBMMG0r        . . . . . . . .
               iE@B@M@B@B@B@BBB@@M,      ... . . . . . . 
               :uui            Y@G,       ... .     . . .
               :JU:            JBO.      . . . . . . . ..
               :JJ:            v@Z.     . . . . . . .  ..
               :2MMNFXkPkPXXkFP@BN.        . .   .   . . 
               :k@@B@@@B@B@B@B@B@k.       .     . . . .  
               :uF7.          .5@G.      . .     .   .   
               :jui            Y@E.       . .     . . .  
               :JU:            YBG.        . .   . . . . 
               :2NSr::iiiiiii:r0@0.     . . .     .   ...
               iP@B8kq0Z0E00PPE@BO.              . .  .. 
               i50k7::;iiiiiii7Z@X.                      
             .  ..             .,,         ...       . . 
             .                  .iLi.     :v5L:       .  
             ,                  :uXv     ,7ZBOL: ... .   
             ,                 .iUO5: .iv2ZM@M0uU2Ur:   .
             :               .i7LEB@M5rrvkGMMG550@M5:.  .
             ,               :2ULLXOMFi   rU2r. ,YPYi    
             : .             vG0rrvv:     .vv:   ;J7,    
             .  .            iSu;rJi  .iiiYSkLi:vqBEui.  
             , ..             .::vU7.,LGNP8@B@ZkkO@@Eu:. 
             . ..               :L57. :i:iX@@BE;::i;r:,. 
             . ..               :J57     .S@@MJi         
             . ..               :YFr    i2ZFvi1ME:       
             , .               .:uFv. :FMOL.  iGBBSv:,.  
             .  .              .iJSLir8BZi      rq@BXr.  
             , .                ,;rr:i77,         :77:   
             .                                           
             ,                                         . 
             .        ..,:::::::::rvUv:             . .  
             ,     :7LvJuXN0kqXqP0O@B@v.                 
             .    ,L0q17ririiiii:,..,..     . .          
             .    ,5E2:    .:i,                        . 
             .    iOMr     .Lv:                         .
             ,    r@Bu     r5S7:     ...     .           
             .    rB@NL7L7jkOO0UJvLLujJ;,   .           .
             .    :j55u515F8BB8N551XFk17,    .   .     . 
             .        ,.  .;517.  :,.                 . .
             .       uqv   ,Lj:   7j:            . . . . 
             .     :NB@L   ,YJi. .7EBqr           .     .
             .   .J@B5,    7Xqr.   :k@M2:          . . . 
             .  :vEOu   i;JB@Bv.     7MBu.  . . . . . . .
             .   ...   ij2u5ur.       ,:.    ....... .   
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
</pre>
<div id="C-audio" class="circle circle--one circle-abs circle-audio">
  <a href="javascript:;" class="huaqifont">&#x3482;</a>
  <del></del>
</div>

<div id="C-share" class="circle circle--two circle-abs circle-share">
  <a target="_blank" title="打开雨欣的新手机" class="huaqifont">&#x3449;</a>
</div>
</div>
<script>

window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame

canvas = document.querySelector('canvas')
ctx = canvas.getContext('2d')

onresize = function() {
  canvas.width = canvas.clientWidth
  canvas.height = canvas.clientHeight
}
onresize();


onmousemove = function(e){
  rect = canvas.getBoundingClientRect();
  gravityPoint = {
    x: e.clientX - rect.left,
    y: e.clientY - rect.top
  }
}

gravityPoint = {
  x:canvas.width/2,
  y:canvas.height/2
}
gravityStrength = 10
particles = []

calculate = function(){
  for(var i=0;i<particles.length;i++){
    p = particles[i]
    x = gravityPoint.x-p.x
    y = gravityPoint.y-p.y
    a = x*x+y*y
    a = a = a>100?gravityStrength/a:gravityStrength/100
    p.xv = (p.xv+a*x)*0.99
    p.yv = (p.yv+a*y)*0.99
    p.x += p.xv
    p.y += p.yv
    p.a *= 0.99
  }
}

draw = function(){
  ctx.clearRect(0,0,canvas.width,canvas.height)
  for(var i=0;i<particles.length;i++){
    p = particles[i]
    ctx.globalAlpha = p.a
    ctx.fillStyle = p.c
    ctx.beginPath()
    ctx.arc(p.x,p.y,p.s,0,2*Math.PI)
    ctx.fill()
  }
}

newParticle = function(){
  type = (Math.random()*2|0)
  particles.push({
    x:gravityPoint.x-5+10*Math.random(),
    y:gravityPoint.y-5+10*Math.random(),
    xv:type?18*Math.random()-9:24*Math.random()-12,
    yv:type?18*Math.random()-9:24*Math.random()-12,
    c:type?'rgb(255,'+((200*Math.random())|0)+','+((80*Math.random())|0)+')':'rgb(255,255,255)',
    s:type?5+10*Math.random():1,
    a:1
  })
  if(particles.length>100){particles.shift()}
}

setInterval(newParticle,5)

loop = function(){
  draw()
  calculate()
  requestAnimationFrame(loop)
}
requestAnimationFrame(loop)
</script>
<script>
  KISSY.use('hi/flower7', function(S, Flower7) {
     new Flower7();
  });
</script>
<script>
var c = "https:" === document.location.protocol ? " https://" : " http://", 
    d = document.createElement("script");
    d.type = "text/javascript";
    d.src = c + "hm.baidu.com/h.js?903dbfbce067b39ceece9501caadb94e", document.body.appendChild(d);
</script>
</body>
</html>